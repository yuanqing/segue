!function(n){"use strict";var t=function(){},r=0,e=1,u=2,i=function(n,f){var o=this;if(!(o instanceof i))return new i(n,f);"function"!=typeof n&&(f=n,n=t);var c=!(!f||!f.repeat),a=[],s=r,p=0,l=function(t){if(t)return s=u,n(t),o;if(s!==e)return o;if(p===a.length){if(!c)return s=r,n();p=0}var i=a[p++];return i[0].apply(o,[].concat(l.bind(o),i[1])),o};o.push=function(){if(s!==u){var n=arguments[0],t=[].slice.call(arguments,1);a.push([n,t])}return o},o.pause=function(){return s=r,o},o.run=function(){return s===e?o:(s=e,l())}};"object"==typeof module?module.exports=i:n.segue=i}(this);