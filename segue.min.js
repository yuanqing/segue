"use strict";var slice=[].slice;var segue=function(e,r){if(typeof e!=="function"){r=e;e=function(){}}var t=r&&r.repeat===true;var u=[];var n=[];var a=0;var i=false;var f=false;var s=function(r){var c=u.length;if(t){a=a%c}if(r||a===c){i=false;f=r;return e(r)}u[a].apply(null,[].concat(s,n[a++]))};return function c(r){if(f){return e(f)}u.push(r);n.push(slice.call(arguments,1));if(!i){i=true;setTimeout(function(){s()},0)}return c}};module.exports=segue;