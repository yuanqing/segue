!function(n){"use strict";var t=0,r=1,u=2,e=3,i=function(){},f=function(n,o){var c=this;if(!(c instanceof f))return new f(n,o);"function"!=typeof n&&(o=n,n=i);var s=!(!o||!o.repeat),a=[],p=t,l=0,g=i,h=function(r){if(r)return p=e,n(r),c;if(p!==u)return p=t,g(),g=i,c;if(l===a.length){if(!s)return p=t,n();l=0}var f=a[l++];return f[0].apply(c,[].concat(h.bind(c),f[1])),c};c.push=function(){if(p!==e){var n=arguments[0],t=[].slice.call(arguments,1);a.push([n,t])}return c},c.pause=function(n){return p===u&&(p=r,g=n||i),c},c.run=function(){return p===u?c:(p=u,h())},c.isRunning=function(){return p===u||p===r}};"object"==typeof module?module.exports=f:n.segue=f}(this);